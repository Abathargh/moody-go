upstream dataset {
    server raspberrypi:8002;
    server rpi2:8002;
    server moodyhost:8002;
}

upstream activity {
    server raspberrypi:8001;
    server rpi2:8001;
    server moodyhost:8001;
}

server {
    listen 80;

    location /neural {
        proxy_pass http://dataset/predict;
    }

    location /dataset {
        proxy_pass http://dataset/data;
    }

    location /service {
        proxy_pass http://activity/service;
    }

    location /situation {
        proxy_pass http://activity/situation;
    }
}